var app=angular.module("app",["ngRoute"]);app.config(["$routeProvider",function(e){e.when("/order/index",{controller:"OrderIndex",templateUrl:"pages/orderindex.html"}).when("/order/create",{controller:"OrderCreate",templateUrl:"pages/ordercreate.html"}).when("/order/detail/:_id",{controller:"OrderDetail",templateUrl:"pages/orderdetail.html"}).otherwise({redirectTo:"/order/index"})}]);var app=angular.module("app");app.controller("OrderIndex",["$scope","$http","$route",function(e,r,t){document.title="Order List",r.get("/orders").success(function(r){e.orders=r}),e.deleteOrder=function(e){r["delete"]("/orders/"+e).success(function(e){t.reload()})}}]);var fruits=[{fruit_name:"Apple",unit_price:1.2,fruit_quantity:0,selectd:!1},{fruit_name:"Banana",unit_price:2.3,fruit_quantity:0,selectd:!1},{fruit_name:"Pitaya",unit_price:3.4,fruit_quantity:0,selectd:!1},{fruit_name:"Mango",unit_price:4.5,fruit_quantity:0,selectd:!1}];app.controller("OrderCreate",["$scope","$http","$location",function(e,r,t){document.title="Order Create",e.fruits=fruits,e.order={customer:"leo",amount:0,delivery_date:new Date,fruits:[]},e.calcTotalAmount=function(){var r=0;for(var t in e.fruits){var i=e.fruits[t];i.selectd&&(r+=i.unit_price*i.fruit_quantity)}e.order.amount=r},e.createOrder=function(i){for(var n in e.fruits){var o=e.fruits[n];o.selectd&&i.fruits.push({fruit_name:o.fruit_name,fruit_quantity:o.fruit_quantity})}r.post("/orders",i).success(function(e){e.code||t.path("/order/detail/"+e)})}}]),app.controller("OrderDetail",["$scope","$http","$routeParams",function(e,r,t){document.title="Order Detail";var i=t._id;r.get("/orders/"+i).success(function(r){r.code||(e.order=r)})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVycy9jbGllbnQvcm91dGVzL29yZGVyLmpzIiwib3JkZXJzL2NsaWVudC9jb250cm9sbGVycy9vcmRlci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwiY29udHJvbGxlciIsInRlbXBsYXRlVXJsIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsIiRzY29wZSIsIiRodHRwIiwiJHJvdXRlIiwiZG9jdW1lbnQiLCJ0aXRsZSIsImdldCIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJvcmRlcnMiLCJkZWxldGVPcmRlciIsIl9pZCIsInJlbG9hZCIsImZydWl0cyIsImZydWl0X25hbWUiLCJ1bml0X3ByaWNlIiwiZnJ1aXRfcXVhbnRpdHkiLCJzZWxlY3RkIiwiJGxvY2F0aW9uIiwib3JkZXIiLCJjdXN0b21lciIsImFtb3VudCIsImRlbGl2ZXJ5X2RhdGUiLCJEYXRlIiwiY2FsY1RvdGFsQW1vdW50IiwidG90YWwiLCJpIiwiZnJ1aXQiLCJjcmVhdGVPcmRlciIsInB1c2giLCJwb3N0IiwiY29kZSIsInBhdGgiLCIkcm91dGVQYXJhbXMiXSwibWFwcGluZ3MiOiJBQUdBLEdBQUlBLEtBQU1DLFFBQVFDLE9BQU8sT0FDckIsV0FHSkYsS0FBSUcsUUFBQSxpQkFBTyxTQUFVQyxHQUNqQkEsRUFDS0MsS0FBSyxnQkFDRkMsV0FBWSxhQUNaQyxZQUFhLDBCQUVoQkYsS0FBSyxpQkFDRkMsV0FBWSxjQUNaQyxZQUFhLDJCQUVoQkYsS0FBSyxzQkFDRkMsV0FBWSxjQUNaQyxZQUFhLDJCQUVoQkMsV0FDR0MsV0FBWSxtQkNuQnhCLElBQUlULEtBQU1DLFFBQVFDLE9BQU8sTUFFekJGLEtBQUlNLFdBQVcsY0FBQSxTQUFBLFFBQUEsU0FBYyxTQUFVSSxFQUFRQyxFQUFPQyxHQUNsREMsU0FBU0MsTUFBUSxhQUVqQkgsRUFBTUksSUFBSSxXQUFXQyxRQUFRLFNBQVVDLEdBQ25DUCxFQUFPUSxPQUFTRCxJQUdwQlAsRUFBT1MsWUFBYyxTQUFVQyxHQUMzQlQsRUFBQUEsVUFBYSxXQUFhUyxHQUFLSixRQUFRLFNBQVVDLEdBQzdDTCxFQUFPUyxjQUtuQixJQUFJQyxVQUVJQyxXQUFZLFFBQ1pDLFdBQVksSUFDWkMsZUFBZ0IsRUFDaEJDLFNBQVMsSUFHVEgsV0FBWSxTQUNaQyxXQUFZLElBQ1pDLGVBQWdCLEVBQ2hCQyxTQUFTLElBR1RILFdBQVksU0FDWkMsV0FBWSxJQUNaQyxlQUFnQixFQUNoQkMsU0FBUyxJQUdUSCxXQUFZLFFBQ1pDLFdBQVksSUFDWkMsZUFBZ0IsRUFDaEJDLFNBQVMsR0FHakIxQixLQUFJTSxXQUFXLGVBQUEsU0FBQSxRQUFBLFlBQWUsU0FBVUksRUFBUUMsRUFBT2dCLEdBQ25EZCxTQUFTQyxNQUFRLGVBRWpCSixFQUFPWSxPQUFTQSxPQUVoQlosRUFBT2tCLE9BQ0hDLFNBQVUsTUFDVkMsT0FBUSxFQUNSQyxjQUFlLEdBQUlDLE1BQ25CVixXQUdKWixFQUFPdUIsZ0JBQWtCLFdBQ3JCLEdBQUlDLEdBQVEsQ0FDWixLQUFLLEdBQUlDLEtBQUt6QixHQUFPWSxPQUFRLENBQ3pCLEdBQUljLEdBQVExQixFQUFPWSxPQUFPYSxFQUN0QkMsR0FBTVYsVUFDTlEsR0FBU0UsRUFBTVosV0FBYVksRUFBTVgsZ0JBRzFDZixFQUFPa0IsTUFBTUUsT0FBU0ksR0FHMUJ4QixFQUFPMkIsWUFBYyxTQUFVVCxHQUMzQixJQUFLLEdBQUlPLEtBQUt6QixHQUFPWSxPQUFRLENBQ3pCLEdBQUljLEdBQVExQixFQUFPWSxPQUFPYSxFQUN0QkMsR0FBTVYsU0FDTkUsRUFBTU4sT0FBT2dCLE1BQ1RmLFdBQVlhLEVBQU1iLFdBQ2xCRSxlQUFnQlcsRUFBTVgsaUJBS2xDZCxFQUFNNEIsS0FBSyxVQUFXWCxHQUFPWixRQUFRLFNBQVVDLEdBQ3RDQSxFQUFPdUIsTUFDUmIsRUFBVWMsS0FBSyxpQkFBbUJ4QixTQU1sRGpCLElBQUlNLFdBQVcsZUFBQSxTQUFBLFFBQUEsZUFBZSxTQUFVSSxFQUFRQyxFQUFPK0IsR0FDbkQ3QixTQUFTQyxNQUFRLGNBRWpCLElBQUlNLEdBQU1zQixFQUFhdEIsR0FDdkJULEdBQU1JLElBQUksV0FBYUssR0FBS0osUUFBUSxTQUFVQyxHQUNyQ0EsRUFBT3VCLE9BQ1I5QixFQUFPa0IsTUFBUVgiLCJmaWxlIjoibmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSB4el9saXUgb24gMjAxNi8zLzkuXHJcbiAqL1xyXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtcclxuICAgICduZ1JvdXRlJ1xyXG5dKTtcclxuXHJcbmFwcC5jb25maWcoZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7XHJcbiAgICAkcm91dGVQcm92aWRlclxyXG4gICAgICAgIC53aGVuKCcvb3JkZXIvaW5kZXgnLCB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdPcmRlckluZGV4JyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYWdlcy9vcmRlcmluZGV4Lmh0bWwnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAud2hlbignL29yZGVyL2NyZWF0ZScsIHtcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ09yZGVyQ3JlYXRlJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYWdlcy9vcmRlcmNyZWF0ZS5odG1sJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLndoZW4oJy9vcmRlci9kZXRhaWwvOl9pZCcsIHtcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ09yZGVyRGV0YWlsJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYWdlcy9vcmRlcmRldGFpbC5odG1sJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm90aGVyd2lzZSh7XHJcbiAgICAgICAgICAgIHJlZGlyZWN0VG86ICcvb3JkZXIvaW5kZXgnXHJcbiAgICAgICAgfSk7XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHh6X2xpdSBvbiAyMDE2LzMvOS5cclxuICovXHJcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcblxyXG5hcHAuY29udHJvbGxlcignT3JkZXJJbmRleCcsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkcm91dGUpIHtcclxuICAgIGRvY3VtZW50LnRpdGxlID0gJ09yZGVyIExpc3QnO1xyXG5cclxuICAgICRodHRwLmdldCgnL29yZGVycycpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICRzY29wZS5vcmRlcnMgPSByZXN1bHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkc2NvcGUuZGVsZXRlT3JkZXIgPSBmdW5jdGlvbiAoX2lkKSB7XHJcbiAgICAgICAgJGh0dHAuZGVsZXRlKCcvb3JkZXJzLycgKyBfaWQpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59KTtcclxuXHJcbnZhciBmcnVpdHMgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgZnJ1aXRfbmFtZTogJ0FwcGxlJyxcclxuICAgICAgICB1bml0X3ByaWNlOiAxLjIsXHJcbiAgICAgICAgZnJ1aXRfcXVhbnRpdHk6IDAsXHJcbiAgICAgICAgc2VsZWN0ZDogZmFsc2VcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgZnJ1aXRfbmFtZTogJ0JhbmFuYScsXHJcbiAgICAgICAgdW5pdF9wcmljZTogMi4zLFxyXG4gICAgICAgIGZydWl0X3F1YW50aXR5OiAwLFxyXG4gICAgICAgIHNlbGVjdGQ6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGZydWl0X25hbWU6ICdQaXRheWEnLFxyXG4gICAgICAgIHVuaXRfcHJpY2U6IDMuNCxcclxuICAgICAgICBmcnVpdF9xdWFudGl0eTogMCxcclxuICAgICAgICBzZWxlY3RkOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBmcnVpdF9uYW1lOiAnTWFuZ28nLFxyXG4gICAgICAgIHVuaXRfcHJpY2U6IDQuNSxcclxuICAgICAgICBmcnVpdF9xdWFudGl0eTogMCxcclxuICAgICAgICBzZWxlY3RkOiBmYWxzZVxyXG4gICAgfV07XHJcblxyXG5hcHAuY29udHJvbGxlcignT3JkZXJDcmVhdGUnLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJGxvY2F0aW9uKSB7XHJcbiAgICBkb2N1bWVudC50aXRsZSA9ICdPcmRlciBDcmVhdGUnO1xyXG5cclxuICAgICRzY29wZS5mcnVpdHMgPSBmcnVpdHM7XHJcblxyXG4gICAgJHNjb3BlLm9yZGVyID0ge1xyXG4gICAgICAgIGN1c3RvbWVyOiAnbGVvJyxcclxuICAgICAgICBhbW91bnQ6IDAsXHJcbiAgICAgICAgZGVsaXZlcnlfZGF0ZTogbmV3IERhdGUoKSxcclxuICAgICAgICBmcnVpdHM6IFtdXHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5jYWxjVG90YWxBbW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRvdGFsID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpIGluICRzY29wZS5mcnVpdHMpIHtcclxuICAgICAgICAgICAgdmFyIGZydWl0ID0gJHNjb3BlLmZydWl0c1tpXTtcclxuICAgICAgICAgICAgaWYgKGZydWl0LnNlbGVjdGQpIHtcclxuICAgICAgICAgICAgICAgIHRvdGFsICs9IGZydWl0LnVuaXRfcHJpY2UgKiBmcnVpdC5mcnVpdF9xdWFudGl0eTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUub3JkZXIuYW1vdW50ID0gdG90YWw7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5jcmVhdGVPcmRlciA9IGZ1bmN0aW9uIChvcmRlcikge1xyXG4gICAgICAgIGZvciAodmFyIGkgaW4gJHNjb3BlLmZydWl0cykge1xyXG4gICAgICAgICAgICB2YXIgZnJ1aXQgPSAkc2NvcGUuZnJ1aXRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoZnJ1aXQuc2VsZWN0ZCkge1xyXG4gICAgICAgICAgICAgICAgb3JkZXIuZnJ1aXRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGZydWl0X25hbWU6IGZydWl0LmZydWl0X25hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJ1aXRfcXVhbnRpdHk6IGZydWl0LmZydWl0X3F1YW50aXR5XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGh0dHAucG9zdCgnL29yZGVycycsIG9yZGVyKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKCFyZXN1bHQuY29kZSkge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9vcmRlci9kZXRhaWwvJyArIHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn0pO1xyXG5cclxuYXBwLmNvbnRyb2xsZXIoJ09yZGVyRGV0YWlsJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRyb3V0ZVBhcmFtcykge1xyXG4gICAgZG9jdW1lbnQudGl0bGUgPSAnT3JkZXIgRGV0YWlsJztcclxuXHJcbiAgICB2YXIgX2lkID0gJHJvdXRlUGFyYW1zLl9pZDtcclxuICAgICRodHRwLmdldCgnL29yZGVycy8nICsgX2lkKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICBpZiAoIXJlc3VsdC5jb2RlKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5vcmRlciA9IHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
