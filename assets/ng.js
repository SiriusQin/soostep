var app=angular.module("admin",["ngRoute"]);app.config(["$routeProvider",function(e){e.when("/dic",{controller:"Dic",templateUrl:"pages/dic.html"}).when("/userManager",{controller:"userManager",templateUrl:"pages/userManager.html"}).when("/userList",{controller:"userIndex",templateUrl:"pages/userIndex.html"}).when("/roles",{controller:"roles",templateUrl:"pages/roles.html"}).otherwise({redirectTo:"/dic"})}]);var app=angular.module("app",["ngRoute"]);app.config(["$routeProvider",function(e){e.when("/order/index",{controller:"OrderIndex",templateUrl:"pages/orderindex.html"}).when("/order/create",{controller:"OrderCreate",templateUrl:"pages/ordercreate.html"}).when("/order/detail/:_id",{controller:"OrderDetail",templateUrl:"pages/orderdetail.html"}).otherwise({redirectTo:"/order/index"})}]);var app=angular.module("admin"),title="Dictionary Management";app.controller("Dic",["$scope","$http","$route",function(e,t,r){document.title=title,t.get("/dics").success(function(t){e.dics=t}),t.get("/dicTypes").success(function(t){e.dicTypes=t}),e.getDic=function(r){t.get("/dics/"+r).success(function(t){t.code||(e.dicEdit=t)})},e.createDic=function(e){t.post("/dics",e).success(function(e){e.code||r.reload()})},e.deleteDic=function(e){t["delete"]("/dics/"+e).success(function(e){0==e.code&&r.reload()})}}]);var app=angular.module("admin"),title="User Management";app.controller("userManager",["$scope","$http","$route",function(e,t,r){document.title=title,t.get("/roles").success(function(t){e.roles=t}),e.userName="",e.selectedRoleName="",e.createUser=function(){console.log("Create User"),console.log(e.userName),console.log(e.selectedRoleName);e.userName,e.selectedRoleName}}]),app.controller("userIndex",["$scope","$http","$route",function(e,t,r){t.get("/users").success(function(t){e.users=t})}]);var app=angular.module("app");app.controller("OrderIndex",["$scope","$http","$route",function(e,t,r){document.title="Order List",t.get("/orders").success(function(t){e.orders=t}),e.deleteOrder=function(e){t["delete"]("/orders/"+e).success(function(e){r.reload()})}}]);var fruits=[{fruit_name:"Apple",unit_price:1.2,fruit_quantity:0,selectd:!1},{fruit_name:"Banana",unit_price:2.3,fruit_quantity:0,selectd:!1},{fruit_name:"Pitaya",unit_price:3.4,fruit_quantity:0,selectd:!1},{fruit_name:"Mango",unit_price:4.5,fruit_quantity:0,selectd:!1}];app.controller("OrderCreate",["$scope","$http","$location",function(e,t,r){document.title="Order Create",e.fruits=fruits,e.order={customer:"leo",amount:0,delivery_date:new Date,fruits:[]},e.calcTotalAmount=function(){var t=0;for(var r in e.fruits){var o=e.fruits[r];o.selectd&&(t+=o.unit_price*o.fruit_quantity)}e.order.amount=t},e.createOrder=function(o){for(var n in e.fruits){var c=e.fruits[n];c.selectd&&o.fruits.push({fruit_name:c.fruit_name,fruit_quantity:c.fruit_quantity})}t.post("/orders",o).success(function(e){e.code||r.path("/order/detail/"+e)})}}]),app.controller("OrderDetail",["$scope","$http","$routeParams",function(e,t,r){document.title="Order Detail";var o=r._id;t.get("/orders/"+o).success(function(t){t.code||(e.order=t)})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL2NsaWVudC9yb3V0ZXMuanMiLCJvcmRlcnMvY2xpZW50L3JvdXRlcy5qcyIsImFkbWluL2NsaWVudC9jb250cm9sbGVycy9kaWMuanMiLCJhZG1pbi9jbGllbnQvY29udHJvbGxlcnMvdXNlcm1hbmFnZXIuanMiLCJvcmRlcnMvY2xpZW50L2NvbnRyb2xsZXJzL29yZGVyLmpzIl0sIm5hbWVzIjpbImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJjb250cm9sbGVyIiwidGVtcGxhdGVVcmwiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwidGl0bGUiLCIkc2NvcGUiLCIkaHR0cCIsIiRyb3V0ZSIsImRvY3VtZW50IiwiZ2V0Iiwic3VjY2VzcyIsInJlc3VsdCIsImRpY3MiLCJkaWNUeXBlcyIsImdldERpYyIsIl9pZCIsImNvZGUiLCJkaWNFZGl0IiwiY3JlYXRlRGljIiwib3JkZXIiLCJwb3N0IiwicmVsb2FkIiwiZGVsZXRlRGljIiwicm9sZXMiLCJ1c2VyTmFtZSIsInNlbGVjdGVkUm9sZU5hbWUiLCJjcmVhdGVVc2VyIiwiY29uc29sZSIsImxvZyIsInVzZXJzIiwib3JkZXJzIiwiZGVsZXRlT3JkZXIiLCJmcnVpdHMiLCJmcnVpdF9uYW1lIiwidW5pdF9wcmljZSIsImZydWl0X3F1YW50aXR5Iiwic2VsZWN0ZCIsIiRsb2NhdGlvbiIsImN1c3RvbWVyIiwiYW1vdW50IiwiZGVsaXZlcnlfZGF0ZSIsIkRhdGUiLCJjYWxjVG90YWxBbW91bnQiLCJ0b3RhbCIsImkiLCJmcnVpdCIsImNyZWF0ZU9yZGVyIiwicHVzaCIsInBhdGgiLCIkcm91dGVQYXJhbXMiXSwibWFwcGluZ3MiOiJBQUdBLEdBQUlBLEtBQU1DLFFBQVFDLE9BQU8sU0FDckIsV0FHSkYsS0FBSUcsUUFBQSxpQkFBTyxTQUFVQyxHQUNqQkEsRUFDS0MsS0FBSyxRQUNGQyxXQUFZLE1BQ1pDLFlBQWEsbUJBRWhCRixLQUFL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LE9BRWhCM0IsRUFBT2MsT0FDSG1CLFNBQVUsTUFDVkMsT0FBUSxFQUNSQyxjQUFlLEdBQUlDLE1BQ25CVCxXQUdKM0IsRUFBT3FDLGdCQUFrQixXQUNyQixHQUFJQyxHQUFRLENBQ1osS0FBSyxHQUFJQyxLQUFLdkMsR0FBTzJCLE9BQVEsQ0FDekIsR0FBSWEsR0FBUXhDLEVBQU8yQixPQUFPWSxFQUN0QkMsR0FBTVQsVUFDTk8sR0FBU0UsRUFBTVgsV0FBYVcsRUFBTVYsZ0JBRzFDOUIsRUFBT2MsTUFBTW9CLE9BQVNJLEdBRzFCdEMsRUFBT3lDLFlBQWMsU0FBVTNCLEdBQzNCLElBQUssR0FBSXlCLEtBQUt2QyxHQUFPMkIsT0FBUSxDQUN6QixHQUFJYSxHQUFReEMsRUFBTzJCLE9BQU9ZLEVBQ3RCQyxHQUFNVCxTQUNOakIsRUFBTWEsT0FBT2UsTUFDVGQsV0FBWVksRUFBTVosV0FDbEJFLGVBQWdCVSxFQUFNVixpQkFLbEM3QixFQUFNYyxLQUFLLFVBQVdELEdBQU9ULFFBQVEsU0FBVUMsR0FDdENBLEVBQU9LLE1BQ1JxQixFQUFVVyxLQUFLLGlCQUFtQnJDLFNBTWxEakIsSUFBSU0sV0FBVyxlQUFBLFNBQUEsUUFBQSxlQUFlLFNBQVVLLEVBQVFDLEVBQU8yQyxHQUNuRHpDLFNBQVNKLE1BQVEsY0FFakIsSUFBSVcsR0FBTWtDLEVBQWFsQyxHQUN2QlQsR0FBTUcsSUFBSSxXQUFhTSxHQUFLTCxRQUFRLFNBQVVDLEdBQ3JDQSxFQUFPSyxPQUNSWCxFQUFPYyxNQUFRUiIsImZpbGUiOiJuZy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHh6X2xpdSBvbiAyMDE2LzMvOS5cclxuICovXHJcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYWRtaW4nLCBbXHJcbiAgICAnbmdSb3V0ZSdcclxuXSk7XHJcblxyXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkcm91dGVQcm92aWRlcikge1xyXG4gICAgJHJvdXRlUHJvdmlkZXJcclxuICAgICAgICAud2hlbignL2RpYycsIHtcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0RpYycsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFnZXMvZGljLmh0bWwnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAud2hlbignL3VzZXJNYW5hZ2VyJywge1xyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAndXNlck1hbmFnZXInLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhZ2VzL3VzZXJNYW5hZ2VyLmh0bWwnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAud2hlbignL3VzZXJMaXN0Jywge1xyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAndXNlckluZGV4JyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYWdlcy91c2VySW5kZXguaHRtbCdcclxuICAgICAgICB9KVxyXG4gICAgICAgIC53aGVuKCcvcm9sZXMnLCB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyb2xlcycsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFnZXMvcm9sZXMuaHRtbCdcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vdGhlcndpc2Uoe1xyXG4gICAgICAgICAgICByZWRpcmVjdFRvOiAnL2RpYydcclxuICAgICAgICB9KTtcclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgeHpfbGl1IG9uIDIwMTYvMy85LlxyXG4gKi9cclxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXHJcbiAgICAnbmdSb3V0ZSdcclxuXSk7XHJcblxyXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkcm91dGVQcm92aWRlcikge1xyXG4gICAgJHJvdXRlUHJvdmlkZXJcclxuICAgICAgICAud2hlbignL29yZGVyL2luZGV4Jywge1xyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnT3JkZXJJbmRleCcsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFnZXMvb3JkZXJpbmRleC5odG1sJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLndoZW4oJy9vcmRlci9jcmVhdGUnLCB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdPcmRlckNyZWF0ZScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFnZXMvb3JkZXJjcmVhdGUuaHRtbCdcclxuICAgICAgICB9KVxyXG4gICAgICAgIC53aGVuKCcvb3JkZXIvZGV0YWlsLzpfaWQnLCB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdPcmRlckRldGFpbCcsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFnZXMvb3JkZXJkZXRhaWwuaHRtbCdcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vdGhlcndpc2Uoe1xyXG4gICAgICAgICAgICByZWRpcmVjdFRvOiAnL29yZGVyL2luZGV4J1xyXG4gICAgICAgIH0pO1xyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSB4el9saXUgb24gMjAxNi8zLzkuXHJcbiAqL1xyXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FkbWluJyk7XHJcbnZhciB0aXRsZSA9ICdEaWN0aW9uYXJ5IE1hbmFnZW1lbnQnO1xyXG5cclxuYXBwLmNvbnRyb2xsZXIoJ0RpYycsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkcm91dGUpIHtcclxuICAgIGRvY3VtZW50LnRpdGxlID0gdGl0bGU7XHJcblxyXG4gICAgJGh0dHAuZ2V0KCcvZGljcycpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICRzY29wZS5kaWNzID0gcmVzdWx0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgJGh0dHAuZ2V0KCcvZGljVHlwZXMnKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAkc2NvcGUuZGljVHlwZXMgPSByZXN1bHQ7XHJcbiAgICAgICAgLy8kc2NvcGUuZGljVHlwZXMuYXBwZW5kKHJlc3VsdCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkc2NvcGUuZ2V0RGljID0gZnVuY3Rpb24gKF9pZCkge1xyXG4gICAgICAgICRodHRwLmdldCgnL2RpY3MvJyArIF9pZCkuc3VjY2VzcyhmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmICghcmVzdWx0LmNvZGUpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kaWNFZGl0ID0gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5jcmVhdGVEaWMgPSBmdW5jdGlvbiAob3JkZXIpIHtcclxuICAgICAgICAkaHR0cC5wb3N0KCcvZGljcycsIG9yZGVyKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKCFyZXN1bHQuY29kZSkge1xyXG4gICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5kZWxldGVEaWMgPSBmdW5jdGlvbiAoX2lkKSB7XHJcbiAgICAgICAgJGh0dHAuZGVsZXRlKCcvZGljcy8nICsgX2lkKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgSmVzc2UgUWluIG9uIDMvMTkvMjAxNi5cclxuICovXHJcblxyXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FkbWluJyk7XHJcbnZhciB0aXRsZSA9ICdVc2VyIE1hbmFnZW1lbnQnO1xyXG5cclxuYXBwLmNvbnRyb2xsZXIoJ3VzZXJNYW5hZ2VyJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRyb3V0ZSkge1xyXG4gICAgZG9jdW1lbnQudGl0bGUgPSB0aXRsZTtcclxuXHJcbiAgICAkaHR0cC5nZXQoJy9yb2xlcycpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCl7XHJcbiAgICAgICAgJHNjb3BlLnJvbGVzID0gcmVzdWx0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgJHNjb3BlLnVzZXJOYW1lID0gJyc7XHJcbiAgICAkc2NvcGUuc2VsZWN0ZWRSb2xlTmFtZSA9ICcnO1xyXG5cclxuICAgICRzY29wZS5jcmVhdGVVc2VyID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRlIFVzZXInKTtcclxuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUudXNlck5hbWUpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5zZWxlY3RlZFJvbGVOYW1lKTtcclxuXHJcbiAgICAgICAgdmFyIG5hbWUgPSAkc2NvcGUudXNlck5hbWU7XHJcbiAgICAgICAgdmFyIHJvbGVOYW1lID0gJHNjb3BlLnNlbGVjdGVkUm9sZU5hbWU7XHJcblxyXG4gICAgICAgIC8qJGh0dHAucG9zdCgnL3VzZXJzJywgdXNlcikuc3VjY2VzcyhmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmICghcmVzdWx0LmNvZGUpIHtcclxuICAgICAgICAgICAgICAgICRyb3V0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pOyovXHJcbiAgICB9O1xyXG59KTtcclxuXHJcbmFwcC5jb250cm9sbGVyKCd1c2VySW5kZXgnLCBmdW5jdGlvbigkc2NvcGUsICRodHRwLCAkcm91dGUpe1xyXG5cclxuICAgICRodHRwLmdldCgnL3VzZXJzJykuc3VjY2VzcyhmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgJHNjb3BlLnVzZXJzID0gcmVzdWx0O1xyXG4gICAgfSk7XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHh6X2xpdSBvbiAyMDE2LzMvOS5cclxuICovXHJcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcblxyXG5hcHAuY29udHJvbGxlcignT3JkZXJJbmRleCcsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkcm91dGUpIHtcclxuICAgIGRvY3VtZW50LnRpdGxlID0gJ09yZGVyIExpc3QnO1xyXG5cclxuICAgICRodHRwLmdldCgnL29yZGVycycpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICRzY29wZS5vcmRlcnMgPSByZXN1bHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkc2NvcGUuZGVsZXRlT3JkZXIgPSBmdW5jdGlvbiAoX2lkKSB7XHJcbiAgICAgICAgJGh0dHAuZGVsZXRlKCcvb3JkZXJzLycgKyBfaWQpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59KTtcclxuXHJcbnZhciBmcnVpdHMgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgZnJ1aXRfbmFtZTogJ0FwcGxlJyxcclxuICAgICAgICB1bml0X3ByaWNlOiAxLjIsXHJcbiAgICAgICAgZnJ1aXRfcXVhbnRpdHk6IDAsXHJcbiAgICAgICAgc2VsZWN0ZDogZmFsc2VcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgZnJ1aXRfbmFtZTogJ0JhbmFuYScsXHJcbiAgICAgICAgdW5pdF9wcmljZTogMi4zLFxyXG4gICAgICAgIGZydWl0X3F1YW50aXR5OiAwLFxyXG4gICAgICAgIHNlbGVjdGQ6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGZydWl0X25hbWU6ICdQaXRheWEnLFxyXG4gICAgICAgIHVuaXRfcHJpY2U6IDMuNCxcclxuICAgICAgICBmcnVpdF9xdWFudGl0eTogMCxcclxuICAgICAgICBzZWxlY3RkOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBmcnVpdF9uYW1lOiAnTWFuZ28nLFxyXG4gICAgICAgIHVuaXRfcHJpY2U6IDQuNSxcclxuICAgICAgICBmcnVpdF9xdWFudGl0eTogMCxcclxuICAgICAgICBzZWxlY3RkOiBmYWxzZVxyXG4gICAgfV07XHJcblxyXG5hcHAuY29udHJvbGxlcignT3JkZXJDcmVhdGUnLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJGxvY2F0aW9uKSB7XHJcbiAgICBkb2N1bWVudC50aXRsZSA9ICdPcmRlciBDcmVhdGUnO1xyXG5cclxuICAgICRzY29wZS5mcnVpdHMgPSBmcnVpdHM7XHJcblxyXG4gICAgJHNjb3BlLm9yZGVyID0ge1xyXG4gICAgICAgIGN1c3RvbWVyOiAnbGVvJyxcclxuICAgICAgICBhbW91bnQ6IDAsXHJcbiAgICAgICAgZGVsaXZlcnlfZGF0ZTogbmV3IERhdGUoKSxcclxuICAgICAgICBmcnVpdHM6IFtdXHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5jYWxjVG90YWxBbW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRvdGFsID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpIGluICRzY29wZS5mcnVpdHMpIHtcclxuICAgICAgICAgICAgdmFyIGZydWl0ID0gJHNjb3BlLmZydWl0c1tpXTtcclxuICAgICAgICAgICAgaWYgKGZydWl0LnNlbGVjdGQpIHtcclxuICAgICAgICAgICAgICAgIHRvdGFsICs9IGZydWl0LnVuaXRfcHJpY2UgKiBmcnVpdC5mcnVpdF9xdWFudGl0eTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUub3JkZXIuYW1vdW50ID0gdG90YWw7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5jcmVhdGVPcmRlciA9IGZ1bmN0aW9uIChvcmRlcikge1xyXG4gICAgICAgIGZvciAodmFyIGkgaW4gJHNjb3BlLmZydWl0cykge1xyXG4gICAgICAgICAgICB2YXIgZnJ1aXQgPSAkc2NvcGUuZnJ1aXRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoZnJ1aXQuc2VsZWN0ZCkge1xyXG4gICAgICAgICAgICAgICAgb3JkZXIuZnJ1aXRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGZydWl0X25hbWU6IGZydWl0LmZydWl0X25hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJ1aXRfcXVhbnRpdHk6IGZydWl0LmZydWl0X3F1YW50aXR5XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGh0dHAucG9zdCgnL29yZGVycycsIG9yZGVyKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKCFyZXN1bHQuY29kZSkge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9vcmRlci9kZXRhaWwvJyArIHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn0pO1xyXG5cclxuYXBwLmNvbnRyb2xsZXIoJ09yZGVyRGV0YWlsJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRyb3V0ZVBhcmFtcykge1xyXG4gICAgZG9jdW1lbnQudGl0bGUgPSAnT3JkZXIgRGV0YWlsJztcclxuXHJcbiAgICB2YXIgX2lkID0gJHJvdXRlUGFyYW1zLl9pZDtcclxuICAgICRodHRwLmdldCgnL29yZGVycy8nICsgX2lkKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICBpZiAoIXJlc3VsdC5jb2RlKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5vcmRlciA9IHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
