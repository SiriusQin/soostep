var app=angular.module("admin",["ngRoute"]);app.config(["$routeProvider",function(e){e.when("/dic",{controller:"Dic",templateUrl:"pages/dic.html"}).when("/userManager",{controller:"userManager",templateUrl:"pages/userManager.html"}).when("/roles",{controller:"roles",templateUrl:"pages/roles.html"}).otherwise({redirectTo:"/dic"})}]);var app=angular.module("app",["ngRoute"]);app.config(["$routeProvider",function(e){e.when("/order/index",{controller:"OrderIndex",templateUrl:"pages/orderindex.html"}).when("/order/create",{controller:"OrderCreate",templateUrl:"pages/ordercreate.html"}).when("/order/detail/:_id",{controller:"OrderDetail",templateUrl:"pages/orderdetail.html"}).otherwise({redirectTo:"/order/index"})}]);var app=angular.module("admin"),title="Dictionary Management";app.controller("Dic",["$scope","$http","$route",function(e,t,r){document.title=title,t.get("/dics").success(function(t){e.dics=t}),t.get("/dicTypes").success(function(t){e.dicTypes=t}),e.getDic=function(r){t.get("/dics/"+r).success(function(t){t.code||(e.dicEdit=t)})},e.createDic=function(e){t.post("/dics",e).success(function(e){e.code||r.reload()})},e.deleteDic=function(e){t["delete"]("/dics/"+e).success(function(e){0==e.code&&r.reload()})}}]);var app=angular.module("admin"),title="Role List";app.controller("roles",["$scope",function(e){document.title=title,e.roleCollection=[{Name:"Role1",Permissions:["Role1-Permission1","Role1-Permission2"]},{Name:"Role2",Permissions:["Role2-Permission1","Role2-Permission2"]}]}]);var app=angular.module("admin"),title="User Management";app.controller("userManager",["$scope","$http","$route",function(e,t,r){document.title=title,e.createUser=function(e){t.post("/users",e).success(function(e){e.code||r.reload()})}}]);var app=angular.module("app");app.controller("OrderIndex",["$scope","$http","$route",function(e,t,r){document.title="Order List",t.get("/orders").success(function(t){e.orders=t}),e.deleteOrder=function(e){t["delete"]("/orders/"+e).success(function(e){r.reload()})}}]);var fruits=[{fruit_name:"Apple",unit_price:1.2,fruit_quantity:0,selectd:!1},{fruit_name:"Banana",unit_price:2.3,fruit_quantity:0,selectd:!1},{fruit_name:"Pitaya",unit_price:3.4,fruit_quantity:0,selectd:!1},{fruit_name:"Mango",unit_price:4.5,fruit_quantity:0,selectd:!1}];app.controller("OrderCreate",["$scope","$http","$location",function(e,t,r){document.title="Order Create",e.fruits=fruits,e.order={customer:"leo",amount:0,delivery_date:new Date,fruits:[]},e.calcTotalAmount=function(){var t=0;for(var r in e.fruits){var o=e.fruits[r];o.selectd&&(t+=o.unit_price*o.fruit_quantity)}e.order.amount=t},e.createOrder=function(o){for(var i in e.fruits){var n=e.fruits[i];n.selectd&&o.fruits.push({fruit_name:n.fruit_name,fruit_quantity:n.fruit_quantity})}t.post("/orders",o).success(function(e){e.code||r.path("/order/detail/"+e)})}}]),app.controller("OrderDetail",["$scope","$http","$routeParams",function(e,t,r){document.title="Order Detail";var o=r._id;t.get("/orders/"+o).success(function(t){t.code||(e.order=t)})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL2NsaWVudC9yb3V0ZXMuanMiLCJvcmRlcnMvY2xpZW50L3JvdXRlcy5qcyIsImFkbWluL2NsaWVudC9jb250cm9sbGVycy9kaWMuanMiLCJhZG1pbi9jbGllbnQvY29udHJvbGxlcnMvcm9sZXMuanMiLCJhZG1pbi9jbGllbnQvY29udHJvbGxlcnMvdXNlcm1hbmFnZXIuanMiLCJvcmRlcnMvY2xpZW50L2NvbnRyb2xsZXJzL29yZGVyLmpzIl0sIm5hbWVzIjpbImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJjb250cm9sbGVyIiwidGVtcGxhdGVVcmwiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwidGl0bGUiLCIkc2NvcGUiLCIkaHR0cCIsIiRyb3V0ZSIsImRvY3VtZW50IiwiZ2V0Iiwic3VjY2VzcyIsInJlc3VsdCIsImRpY3MiLCJkaWNUeXBlcyIsImdldERpYyIsIl9pZCIsImNvZGUiLCJkaWNFZGl0IiwiY3JlYXRlRGljIiwib3JkZXIiLCJwb3N0IiwicmVsb2FkIiwiZGVsZXRlRGljIiwicm9sZUNvbGxlY3Rpb24iLCJOYW1lIiwiUGVybWlzc2lvbnMiLCJjcmVhdGVVc2VyIiwidXNlciIsIm9yZGVycyIsImRlbGV0ZU9yZGVyIiwiZnJ1aXRzIiwiZnJ1aXRfbmFtZSIsInVuaXRfcHJpY2UiLCJmcnVpdF9xdWFudGl0eSIsInNlbGVjdGQiLCIkbG9jYXRpb24iLCJjdXN0b21lciIsImFtb3VudCIsImRlbGl2ZXJ5X2RhdGUiLCJEYXRlIiwiY2FsY1RvdGFsQW1vdW50IiwidG90YWwiLCJpIiwiZnJ1aXQiLCJjcmVhdGVPcmRlciIsInB1c2giLCJwYXRoIiwiJHJvdXRlUGFyYW1zIl0sIm1hcHBpbmdzIjoiQUFHQSxHQUFJQSxLQUFNQyxRQUFRQyxPQUFPLFNBQ3JCLFdBR0pGLEtBQUlHLFFBQUEsaUJBQU8sU0FBVUMsR0FDakJBLEVBQ0tDLEtBQUssUUFDRkMsV0FBWSxNQUNa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Q3JCLEdBQUlDLEdBQVEsQ0FDWixLQUFLLEdBQUlDLEtBQUtyQyxHQUFPeUIsT0FBUSxDQUN6QixHQUFJYSxHQUFRdEMsRUFBT3lCLE9BQU9ZLEVBQ3RCQyxHQUFNVCxVQUNOTyxHQUFTRSxFQUFNWCxXQUFhVyxFQUFNVixnQkFHMUM1QixFQUFPYyxNQUFNa0IsT0FBU0ksR0FHMUJwQyxFQUFPdUMsWUFBYyxTQUFVekIsR0FDM0IsSUFBSyxHQUFJdUIsS0FBS3JDLEdBQU95QixPQUFRLENBQ3pCLEdBQUlhLEdBQVF0QyxFQUFPeUIsT0FBT1ksRUFDdEJDLEdBQU1ULFNBQ05mLEVBQU1XLE9BQU9lLE1BQ1RkLFdBQVlZLEVBQU1aLFdBQ2xCRSxlQUFnQlUsRUFBTVYsaUJBS2xDM0IsRUFBTWMsS0FBSyxVQUFXRCxHQUFPVCxRQUFRLFNBQVVDLEdBQ3RDQSxFQUFPSyxNQUNSbUIsRUFBVVcsS0FBSyxpQkFBbUJuQyxTQU1sRGpCLElBQUlNLFdBQVcsZUFBQSxTQUFBLFFBQUEsZUFBZSxTQUFVSyxFQUFRQyxFQUFPeUMsR0FDbkR2QyxTQUFTSixNQUFRLGNBRWpCLElBQUlXLEdBQU1nQyxFQUFhaEMsR0FDdkJULEdBQU1HLElBQUksV0FBYU0sR0FBS0wsUUFBUSxTQUFVQyxHQUNyQ0EsRUFBT0ssT0FDUlgsRUFBT2MsTUFBUVIiLCJmaWxlIjoibmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSB4el9saXUgb24gMjAxNi8zLzkuXHJcbiAqL1xyXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FkbWluJywgW1xyXG4gICAgJ25nUm91dGUnXHJcbl0pO1xyXG5cclxuYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIpIHtcclxuICAgICRyb3V0ZVByb3ZpZGVyXHJcbiAgICAgICAgLndoZW4oJy9kaWMnLCB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdEaWMnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhZ2VzL2RpYy5odG1sJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLndoZW4oJy91c2VyTWFuYWdlcicsIHtcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJNYW5hZ2VyJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYWdlcy91c2VyTWFuYWdlci5odG1sJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLndoZW4oJy9yb2xlcycsIHtcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3JvbGVzJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYWdlcy9yb2xlcy5odG1sJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm90aGVyd2lzZSh7XHJcbiAgICAgICAgICAgIHJlZGlyZWN0VG86ICcvZGljJ1xyXG4gICAgICAgIH0pO1xyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSB4el9saXUgb24gMjAxNi8zLzkuXHJcbiAqL1xyXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtcclxuICAgICduZ1JvdXRlJ1xyXG5dKTtcclxuXHJcbmFwcC5jb25maWcoZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7XHJcbiAgICAkcm91dGVQcm92aWRlclxyXG4gICAgICAgIC53aGVuKCcvb3JkZXIvaW5kZXgnLCB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdPcmRlckluZGV4JyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYWdlcy9vcmRlcmluZGV4Lmh0bWwnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAud2hlbignL29yZGVyL2NyZWF0ZScsIHtcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ09yZGVyQ3JlYXRlJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYWdlcy9vcmRlcmNyZWF0ZS5odG1sJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLndoZW4oJy9vcmRlci9kZXRhaWwvOl9pZCcsIHtcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ09yZGVyRGV0YWlsJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYWdlcy9vcmRlcmRldGFpbC5odG1sJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm90aGVyd2lzZSh7XHJcbiAgICAgICAgICAgIHJlZGlyZWN0VG86ICcvb3JkZXIvaW5kZXgnXHJcbiAgICAgICAgfSk7XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHh6X2xpdSBvbiAyMDE2LzMvOS5cclxuICovXHJcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYWRtaW4nKTtcclxudmFyIHRpdGxlID0gJ0RpY3Rpb25hcnkgTWFuYWdlbWVudCc7XHJcblxyXG5hcHAuY29udHJvbGxlcignRGljJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRyb3V0ZSkge1xyXG4gICAgZG9jdW1lbnQudGl0bGUgPSB0aXRsZTtcclxuXHJcbiAgICAkaHR0cC5nZXQoJy9kaWNzJykuc3VjY2VzcyhmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgJHNjb3BlLmRpY3MgPSByZXN1bHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkaHR0cC5nZXQoJy9kaWNUeXBlcycpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICRzY29wZS5kaWNUeXBlcyA9IHJlc3VsdDtcclxuICAgICAgICAvLyRzY29wZS5kaWNUeXBlcy5hcHBlbmQocmVzdWx0KTtcclxuICAgIH0pO1xyXG5cclxuICAgICRzY29wZS5nZXREaWMgPSBmdW5jdGlvbiAoX2lkKSB7XHJcbiAgICAgICAgJGh0dHAuZ2V0KCcvZGljcy8nICsgX2lkKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKCFyZXN1bHQuY29kZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRpY0VkaXQgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmNyZWF0ZURpYyA9IGZ1bmN0aW9uIChvcmRlcikge1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9kaWNzJywgb3JkZXIpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBpZiAoIXJlc3VsdC5jb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmRlbGV0ZURpYyA9IGZ1bmN0aW9uIChfaWQpIHtcclxuICAgICAgICAkaHR0cC5kZWxldGUoJy9kaWNzLycgKyBfaWQpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgJHJvdXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59KTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKZXNzZSBRaW4gb24gMy8xOS8yMDE2LlxyXG4gKi9cclxuXHJcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYWRtaW4nKTtcclxudmFyIHRpdGxlID0gJ1JvbGUgTGlzdCc7XHJcblxyXG5hcHAuY29udHJvbGxlcigncm9sZXMnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XHJcbiAgICBkb2N1bWVudC50aXRsZSA9IHRpdGxlO1xyXG5cclxuICAgICRzY29wZS5yb2xlQ29sbGVjdGlvbiA9IFtcclxuICAgICAgICB7TmFtZTogJ1JvbGUxJywgUGVybWlzc2lvbnM6IFsnUm9sZTEtUGVybWlzc2lvbjEnLCAnUm9sZTEtUGVybWlzc2lvbjInXX0sXHJcbiAgICAgICAge05hbWU6ICdSb2xlMicsIFBlcm1pc3Npb25zOiBbJ1JvbGUyLVBlcm1pc3Npb24xJywgJ1JvbGUyLVBlcm1pc3Npb24yJ119XHJcbiAgICBdXHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEplc3NlIFFpbiBvbiAzLzE5LzIwMTYuXHJcbiAqL1xyXG5cclxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhZG1pbicpO1xyXG52YXIgdGl0bGUgPSAnVXNlciBNYW5hZ2VtZW50JztcclxuXHJcbmFwcC5jb250cm9sbGVyKCd1c2VyTWFuYWdlcicsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkcm91dGUpIHtcclxuICAgIGRvY3VtZW50LnRpdGxlID0gdGl0bGU7XHJcblxyXG4gICAgJHNjb3BlLmNyZWF0ZVVzZXIgPSBmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICRodHRwLnBvc3QoJy91c2VycycsIHVzZXIpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBpZiAoIXJlc3VsdC5jb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHh6X2xpdSBvbiAyMDE2LzMvOS5cclxuICovXHJcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcblxyXG5hcHAuY29udHJvbGxlcignT3JkZXJJbmRleCcsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkcm91dGUpIHtcclxuICAgIGRvY3VtZW50LnRpdGxlID0gJ09yZGVyIExpc3QnO1xyXG5cclxuICAgICRodHRwLmdldCgnL29yZGVycycpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICRzY29wZS5vcmRlcnMgPSByZXN1bHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkc2NvcGUuZGVsZXRlT3JkZXIgPSBmdW5jdGlvbiAoX2lkKSB7XHJcbiAgICAgICAgJGh0dHAuZGVsZXRlKCcvb3JkZXJzLycgKyBfaWQpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAkcm91dGUucmVsb2FkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59KTtcclxuXHJcbnZhciBmcnVpdHMgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgZnJ1aXRfbmFtZTogJ0FwcGxlJyxcclxuICAgICAgICB1bml0X3ByaWNlOiAxLjIsXHJcbiAgICAgICAgZnJ1aXRfcXVhbnRpdHk6IDAsXHJcbiAgICAgICAgc2VsZWN0ZDogZmFsc2VcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgZnJ1aXRfbmFtZTogJ0JhbmFuYScsXHJcbiAgICAgICAgdW5pdF9wcmljZTogMi4zLFxyXG4gICAgICAgIGZydWl0X3F1YW50aXR5OiAwLFxyXG4gICAgICAgIHNlbGVjdGQ6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGZydWl0X25hbWU6ICdQaXRheWEnLFxyXG4gICAgICAgIHVuaXRfcHJpY2U6IDMuNCxcclxuICAgICAgICBmcnVpdF9xdWFudGl0eTogMCxcclxuICAgICAgICBzZWxlY3RkOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBmcnVpdF9uYW1lOiAnTWFuZ28nLFxyXG4gICAgICAgIHVuaXRfcHJpY2U6IDQuNSxcclxuICAgICAgICBmcnVpdF9xdWFudGl0eTogMCxcclxuICAgICAgICBzZWxlY3RkOiBmYWxzZVxyXG4gICAgfV07XHJcblxyXG5hcHAuY29udHJvbGxlcignT3JkZXJDcmVhdGUnLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJGxvY2F0aW9uKSB7XHJcbiAgICBkb2N1bWVudC50aXRsZSA9ICdPcmRlciBDcmVhdGUnO1xyXG5cclxuICAgICRzY29wZS5mcnVpdHMgPSBmcnVpdHM7XHJcblxyXG4gICAgJHNjb3BlLm9yZGVyID0ge1xyXG4gICAgICAgIGN1c3RvbWVyOiAnbGVvJyxcclxuICAgICAgICBhbW91bnQ6IDAsXHJcbiAgICAgICAgZGVsaXZlcnlfZGF0ZTogbmV3IERhdGUoKSxcclxuICAgICAgICBmcnVpdHM6IFtdXHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5jYWxjVG90YWxBbW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRvdGFsID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpIGluICRzY29wZS5mcnVpdHMpIHtcclxuICAgICAgICAgICAgdmFyIGZydWl0ID0gJHNjb3BlLmZydWl0c1tpXTtcclxuICAgICAgICAgICAgaWYgKGZydWl0LnNlbGVjdGQpIHtcclxuICAgICAgICAgICAgICAgIHRvdGFsICs9IGZydWl0LnVuaXRfcHJpY2UgKiBmcnVpdC5mcnVpdF9xdWFudGl0eTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUub3JkZXIuYW1vdW50ID0gdG90YWw7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5jcmVhdGVPcmRlciA9IGZ1bmN0aW9uIChvcmRlcikge1xyXG4gICAgICAgIGZvciAodmFyIGkgaW4gJHNjb3BlLmZydWl0cykge1xyXG4gICAgICAgICAgICB2YXIgZnJ1aXQgPSAkc2NvcGUuZnJ1aXRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoZnJ1aXQuc2VsZWN0ZCkge1xyXG4gICAgICAgICAgICAgICAgb3JkZXIuZnJ1aXRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGZydWl0X25hbWU6IGZydWl0LmZydWl0X25hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJ1aXRfcXVhbnRpdHk6IGZydWl0LmZydWl0X3F1YW50aXR5XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGh0dHAucG9zdCgnL29yZGVycycsIG9yZGVyKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKCFyZXN1bHQuY29kZSkge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9vcmRlci9kZXRhaWwvJyArIHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn0pO1xyXG5cclxuYXBwLmNvbnRyb2xsZXIoJ09yZGVyRGV0YWlsJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRyb3V0ZVBhcmFtcykge1xyXG4gICAgZG9jdW1lbnQudGl0bGUgPSAnT3JkZXIgRGV0YWlsJztcclxuXHJcbiAgICB2YXIgX2lkID0gJHJvdXRlUGFyYW1zLl9pZDtcclxuICAgICRodHRwLmdldCgnL29yZGVycy8nICsgX2lkKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICBpZiAoIXJlc3VsdC5jb2RlKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5vcmRlciA9IHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
